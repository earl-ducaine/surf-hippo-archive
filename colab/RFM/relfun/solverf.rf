; Vanilla meta-interpreter
; presupposes flattened defs
; performs no deinst (ok for DATAFUN)

(hn (solve))
(ft (solve _x) (final _x) _x)
(ft (solve (is _pat _rhs)) (is _pat (solve _rhs)))
(ft (solve _x1 _x2 | _y) (solve _x1) (solve _x2 | _y))
(hn (solve _x) (clause `(hn _x | _y)) (solve | _y))
(ft (solve _x) (clause `(ft _x | _y)) (solve | _y))


(hn (final _x) (vari-t-e _x) !)
(hn (final `_x) !)
(hn (final _x) (atomic _x))

(hn (atomic (_f | _r)) ! false)
(hn (atomic _x))
